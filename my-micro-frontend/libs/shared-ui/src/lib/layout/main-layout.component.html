<div class="layout-wrapper" [class.sidebar-collapsed]="sidebarCollapsed" [class.dark-theme]="isDarkTheme">
  <lib-toast></lib-toast>

  <!-- Sidebar -->
  <aside class="layout-sidebar">
    <div class="sidebar-header">
      <div class="brand">
        <i class="pi pi-bolt brand-icon"></i>
        <span class="brand-text" *ngIf="!sidebarCollapsed">ADMIN PANEL</span>
      </div>
    </div>

    <div class="sidebar-content">
      <lib-menu [collapsed]="sidebarCollapsed"></lib-menu>
    </div>

    <div class="sidebar-footer" *ngIf="!sidebarCollapsed">
      <div class="user-card">
        <div class="user-avatar-circle">AD</div>
        <div class="user-info">
          <span class="user-name">Admin User</span>
          <span class="user-role">Administrator</span>
        </div>
      </div>
    </div>
  </aside>

  <div class="layout-main">
    <!-- Topbar -->
    <header class="layout-topbar">
      <div class="topbar-left">
        <p-button icon="pi pi-bars" [text]="true" [rounded]="true" (onClick)="toggleSidebar()"
          severity="secondary"></p-button>
        <div class="breadcrumb" *ngIf="!sidebarCollapsed">
          <span class="breadcrumb-item">Dashboard</span>
        </div>
      </div>

      <div class="topbar-right">
        <!-- Theme Toggle -->
        <p-button [icon]="isDarkTheme ? 'pi pi-sun' : 'pi pi-moon'" [text]="true" [rounded]="true"
          (onClick)="toggleTheme()" severity="secondary"></p-button>

        <!-- Language Switcher -->
        <div class="lang-switcher">
          <p-button label="TR" [text]="true" [rounded]="true" (onClick)="switchLanguage('tr')"
            [severity]="currentLang === 'tr' ? 'info' : 'secondary'" [class.active]="currentLang === 'tr'"></p-button>
          <p-button label="EN" [text]="true" [rounded]="true" (onClick)="switchLanguage('en')"
            [severity]="currentLang === 'en' ? 'info' : 'secondary'" [class.active]="currentLang === 'en'"></p-button>
        </div>

        <!-- Notifications -->
        <p-button icon="pi pi-bell" [text]="true" [rounded]="true" severity="secondary" badge="3"
          badgeSeverity="danger"></p-button>

        <!-- Profile -->
        <div class="profile-item">
          <div class="profile-avatar-circle">U</div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="layout-content">
      <router-outlet></router-outlet>
    </main>

    <footer class="layout-footer">
      <span>&copy; 2026 Admin Panel. All rights reserved.</span>
    </footer>
  </div>
</div>